!function(t){"use strict";function n(){var t=document.createElement("mm"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in n)if(void 0!==t.style[i])return{end:n[i]};return!1}function i(n){return this.each(function(){var i=t(this),s=i.data("mm"),a=t.extend({},o.DEFAULTS,i.data(),"object"==typeof n&&n);s||i.data("mm",s=new o(this,a)),"string"==typeof n&&s[n]()})}t.fn.emulateTransitionEnd=function(n){var i=!1,o=this;t(this).one("mmTransitionEnd",function(){i=!0});var a=function(){i||t(o).trigger(s.end)};return setTimeout(a,n),this};var s=n();s&&(t.event.special.mmTransitionEnd={bindType:s.end,delegateType:s.end,handle:function(n){return t(n.target).is(this)?n.handleObj.handler.apply(this,arguments):void 0}});var o=function(n,i){this.$element=t(n),this.options=t.extend({},o.DEFAULTS,i),this.transitioning=null,this.init()};o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0,doubleTapToGo:!1,preventDefault:!0,activeClass:"active",collapseClass:"collapse",collapseInClass:"in",collapsingClass:"collapsing",onTransitionStart:!1,onTransitionEnd:!1},o.prototype.init=function(){var n=this,i=this.options.activeClass,s=this.options.collapseClass,o=this.options.collapseInClass;this.$element.find("li."+i).has("ul").children("ul").attr("aria-expanded",!0).addClass(s+" "+o),this.$element.find("li").not("."+i).has("ul").children("ul").attr("aria-expanded",!1).addClass(s),this.options.doubleTapToGo&&this.$element.find("li."+i).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(s){var o=t(this),a=o.parent("li"),e=a.children("ul");return n.options.preventDefault&&s.preventDefault(),a.hasClass(i)&&!n.options.doubleTapToGo?(n.hide(e),o.attr("aria-expanded",!1)):(n.show(e),o.attr("aria-expanded",!0)),n.options.onTransitionStart&&n.options.onTransitionStart(),n.options.doubleTapToGo&&n.doubleTapToGo(o)&&"#"!==o.attr("href")&&""!==o.attr("href")?(s.stopPropagation(),void(document.location=o.attr("href"))):void 0})},o.prototype.doubleTapToGo=function(t){var n=this.$element;return t.hasClass("doubleTapToGo")?(t.removeClass("doubleTapToGo"),!0):t.parent().children("ul").length?(n.find(".doubleTapToGo").removeClass("doubleTapToGo"),t.addClass("doubleTapToGo"),!1):void 0},o.prototype.show=function(n){var i=this.options.activeClass,a=this.options.collapseClass,e=this.options.collapseInClass,r=this.options.collapsingClass,l=t(n),d=l.parent("li");if(!this.transitioning&&!l.hasClass(e)){d.addClass(i),this.options.toggle&&this.hide(d.siblings().children("ul."+e).attr("aria-expanded",!1)),l.removeClass(a).addClass(r).height(0),this.transitioning=1;var h=function(){this.transitioning&&this.options.onTransitionEnd&&this.options.onTransitionEnd(),l.removeClass(r).addClass(a+" "+e).height("").attr("aria-expanded",!0),this.transitioning=0};return s?void l.one("mmTransitionEnd",t.proxy(h,this)).emulateTransitionEnd(o.TRANSITION_DURATION).height(l[0].scrollHeight):h.call(this)}},o.prototype.hide=function(n){var i=this.options.activeClass,a=this.options.collapseClass,e=this.options.collapseInClass,r=this.options.collapsingClass,l=t(n);if(!this.transitioning&&l.hasClass(e)){l.parent("li").removeClass(i),l.height(l.height())[0].offsetHeight,l.addClass(r).removeClass(a).removeClass(e),this.transitioning=1;var d=function(){this.transitioning&&this.options.onTransitionEnd&&this.options.onTransitionEnd(),this.transitioning=0,l.removeClass(r).addClass(a).attr("aria-expanded",!1)};return s?void l.height(0).one("mmTransitionEnd",t.proxy(d,this)).emulateTransitionEnd(o.TRANSITION_DURATION):d.call(this)}};var a=t.fn.metisMenu;t.fn.metisMenu=i,t.fn.metisMenu.Constructor=o,t.fn.metisMenu.noConflict=function(){return t.fn.metisMenu=a,this}}(jQuery);